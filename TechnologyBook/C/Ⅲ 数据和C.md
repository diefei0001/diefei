# C语言的变量与常量
> C语言是静态类型，因此变量使用前必须声明
*变量声明代码*
int a b ;
[数据类型] [变量名1] [变量名2]；
> 变量名禁止特殊符号（除了_），禁止数字开头，禁止使用C语言保留关键字，区分大小写，只识别63个字符
*变量赋值代码*
a = 1 ；
> C语言通过赋值符：= 将右侧数值赋给左侧·  
- [C语言不存在赋值语句，赋值任务实际上是通过赋值符来完成的]
> 多重变量赋值
*多重赋值代码*
int a , b = 1 , 2 ;
- [该语句是表达式语句，因为其使用了一个运算符]
> define 完成明示常量的初始化
*常量定义代码*
#define [常量名] 字面量
- [常量名通常全大写]；与变量类似，常量有不同的类型，例如字符常量，字符串常量等
> 变量的初始化
[变量的初始化指的是为变量赋予一个初始值的过程]
- 我们都知道，根据冯诺依曼模型，数据和指令都以二进制的形式存储在存储器中，因此，[当我们声明一个变量，实际上就是预留内存空间的过程。这个内存空间存在一个地址，地址绑定变量这个字面量的容器]。[对变量进行初始化，实际上就是将字面量以二进制的形式存储进这个内存空间。当我们后续再调用变量时，实际上就是根据内存地址，从内存中读取这个字面量]，因此，当我们重新对变量赋值，地址实际上没有发生变化，而是存储新的字面量。我们可以通过这个代码理解：
int main() {
    int a = 10; // 声明并初始化，分配内存地址0x1000，存储10
    printf("Address: %p, Value: %d\n", &a, a);
    a = 20; // 重新赋值，地址不变，0x1000处的值变为20
    printf("Address: %p, Value: %d\n", &a, a);
    return 0;
}
> const 完成变量只读
*const代码*
const [数据类型] [变量名1] = [字面量]
- const关键字可以令变量变为只读，即不可修改
.
----------------------------------------------------------------------
# C语言的数据类型
- [计算机的三大基本组成：硬件，软件，数据]。计算机离不开数据。C语言中，关于数据的语法是怎么样的呢？
*示例代码*
#include <stdio.h>

int main(void)
{
    float weight;
    float value;
    printf("Are you worth your weight in platium?\n");
    printf("Let's check it out.\n");
    printf("please enter your weight in pounds: ");

    scanf("%f",&weight);
    value = 1700.0 *weight *14.5833;
    printf("your weight in platinum is worth $%2.f.\n",value);
}
- 在上面这个代码中，我们看见了新的数据类型：float。同时我们使用scanf实现了数据从键盘的输入。[对于计算机来说，数据输入，经过CPU指令（也就是我们每行的代码）的处理，最后重新输出到终端中。这体现了冯·诺伊曼模型的基本工作原理。从更抽象的角度来说，我们的代码实际上控制了UTM各个部件的运行，最后实现了一次计算]
- 从这里，我想你能体会到为什么说图灵机界定了计算机的基本工作方式，同时理解到编程语言为什么具有图灵完备性，因为实际上，[计算机也好，编程语言也罢，它们都实现了图灵机的功能——具有通用计算能力]
> 数据类型关键字：
- `整数`： int，long short unsigned
- `字符`： char
- `浮点`： float double long double 
- `布尔`： _Bool
- `虚数和复数`： float_complex，double_complex, longdouble_complex(虚数同理)
- [我们都知道，计算机以补码的形式存储整数，以IEEE754标准存储浮点数。因此，我们在使用数据类型时，务必要注意到存储规则对不同类型的数据带来的影响，同时，我们需要关注不同数据类型的差异，与同一数据类型的不同关键字的差异]
- [对于C语言来说（以及大多数编程语言），7和7.0是两个不同的数据，前者是整数，后者是浮点数。]
。
----------------------------------------------------------------------
## 整数类型
> int类型是有符号整型，意味着其为补码表示法，其可用范围为-2,147,483,648 到 2,147,483,647
- 根据补码的规则，我们可以得到在32位下的int表示范围。c语言标准规定的范围是基于较老的16位计算机，或嵌入式的16位计算机
> short，long，longlong与int类似，范围不同，都是有符号的
- [值得注意的是，longlong是至少64位的，long至少是32位的，其他是至少16位]
> 在C语言中，默认为int类型，在数字后添加l或L则表明其为long类型，ll或LL则为longlong类型
> 使用其他进制需加上对应的前缀，0b，0，0x分别是2 8 16进制的前缀
*整数类型代码*：
    int num1 = 0xACF;
    int num2 = 0b00110011;
    int num3 = 03476;
    printf("%d,%d,%d",num1,num2,num3);
- 输出结果为：2767,51,1854
> unsigned 是无符号整数
- [无符号整数的表示范围更大，因为其不需要使用一位来表示符号，因此其直接就是2的n次方而不需要-1],使用unsigned 类型需要加u
> 根据实际需求选择合适的数据类型
## 溢出
> 在使用整数类型时，要注意溢出问题
- [根据计算机科学导论的知识，我们知道当数字超过了其能表示的范围时，就会发生溢出，在C语言中也是类似的，尝试执行下面的程序：]
#include <stdio.h>

int main(void)
{
    int i =2147483647;
    unsigned int j = 4294967295;
    printf("%d,%d,%d\n",i,i+1,i+2);
    printf("%u,%u,%u",j,j+1,j+2);
}
.
----------------------------------------------------------------------
## 字符类型
> char类型用于存储字符，其本质是整数类型
- [值得注意的是，字符和字符串使用的符号不同，''才是字符]
- [根据数据存储的知识，我们知道计算机通过编码的方式存储文字，常用的编码方式是ASCII和Unicode。也就是说，对于计算机来说，字符的本质实际上是数字。在C语言中，char类型也可以赋值数字，但对可移植性有害，因为你不知道另一台计算机是ASCII还是Unicode]
- [由于ASCII用一个字节进行存储，因此char类型的范围为0-255]
- [当我们用char类型存储整数，需要区分其为有符号还是无符号，而这根据不同的编译器是不同的。我们可以通过指定chr是signed还是unsigned来规定其是有符号还是无符号]
*字符类型代码*
    char A;
    A = 100;
    printf("%c",A);
    printf("%d",A) 
- 最终的输出结果是字符d 和数字100
- [c语言是弱类型语言，也就是不严格区分变量类型，存在隐式变量类型转换，不论字面量是字符还是数字，其最后取决于使用的转换符]
> 一些特殊的字符有其特殊的写法
  1. \n 是我们已经熟练的，称为换行符
  2. \b \r \t \0 \? (退格：删除前一个字符)（回车符，回到行首）（生成水平制表符）（空字符） (问号)
  3. \0oo \xhh （八进制ASCII转义，十六进制ASCII转义）
- [这些特殊字符被称为转义符,你可以通过赋值将它们赋值给字符变量，但是一般转义符只在字符串中才能看出效果]
.
----------------------------------------------------------------------
## 布尔类型
> _bool类型用于存储布尔值
- [在C语言中，True为1，False为0]
.
----------------------------------------------------------------------
## 浮点数类型
> float 根据IEEE 754单精度浮点数表示法存储浮点数，而double以双精度存储，因此double的范围比float要大
> 在C语言中，一个浮点数如2E5或.3默认被视为double，如果在数字后加上f，则被视为float（单精）加上L，则为long double类型
- [float实际对应了IEEE754单精度标准]，指数8，尾数23,由于偏置为127，因此指数范围为2的（-126，+127），也就是`±10³⁸ `级别
- [double实际对应了IEEE754双精度标准]，指数11，尾数52；由于偏置为1023，指数范围为2的（-1022，1023），也就是	`±10³⁰⁸ `级别
- [longdouble],指数15位	指数范围为2的（-16382 ， +16383	）也就是`±10⁴⁹³²` 级别
> 计算机在处理浮点数时，总是要考虑`精度有限`和`舍入误差`这两个问题
- [例如，float只保证6-7位小数点数字的精度，double只保证10位数字的精度，当赋值的浮点数位数过多，则计算结果一定是错误的]
- [同时，IEEE754本身也存在一定取舍，例如，有的小数的尾数是无限的，例如无限不循环小数，那么在有限的尾数存储位数下，我们实际只能得到近似值]
- [所以，假设一个浮点数原本是精准的，在进行运算时，如果涉及到尾数的调整，就有可能导致尾数超出有限尾数存储位数，IEEE754会进行截断或四舍五入，这被称为舍入误差]
*浮点数精度代码*
#include <stdio.h>

int main(void)
{
    float num1 =0.1;
    printf("%.10f\n",num1); /*输出：0.1000000015*/
    double num2 =0.1;
    printf("%.10f",num2);  /*输出：0.1000000000*/
}
.
----------------------------------------------------------------------
## 数据类型大小
> 使用sizeof运算符可以求得数据类型的大小
 *sizeof代码*
int main(void)
{
    printf("the size of num1 is:`%zd` bytes.\n",`sizeof`(int)); 
    printf("the size of num1 is:%zd bytes.\n",sizeof(float));
    printf("the size of num1 is:%zd bytes.\n",sizeof(char));
    printf("the size of num1 is:%zd bytes.\n",sizeof(long));
    printf("the size of num1 is:%zd bytes.\n",sizeof(short));
    printf("the size of num1 is:%zd bytes.\n",sizeof(long long));
    printf("the size of num1 is:%zd bytes.\n",sizeof(double));
    printf("the size of num1 is:%zd bytes.\n",sizeof(long double));
    printf("the size of num1 is:%zd bytes.\n",sizeof(unsigned));
    printf("the size of num1 is:%zd bytes.\n",sizeof(unsigned long));
    printf("the size of num1 is:%zd bytes.\n",sizeof(unsigned short));
}
- [通过运行结果，我们不难看出：int和long都是32位，而short为16位，longlong为64位，这也验证了教材的那句话：int要么和long相同要么和int相同]
- [float是4位，double为8位，longdouble则为128位]
- [unsigned类型与有符号是一样的]
- [char的大小一定是1，这是C语言规定的]
.
----------------------------------------------------------------------
## 字符串
> 字符串是一个或多个字节序列
- 注意区分字符和字符串，前者用''，后者用""
> 在C语言中，用字符的数组存储字符串，没有专门的字符串数据类型
- 在C中，规定char类型为1个字节能存储一个字符，存储字符串其实就是将其分割成连续字符存储
> 存储字符串的字符数组的结尾一定是空字符\0
- 因此，假设我们有一个40个字节的字符数组，那么其最多能存储39个字符 
*字符串声明代码*
char name[*]; //字符串的声明
.
----------------------------------------------------------------------
## 字符串长度
> 用strlen（）函数获取字符串长度
- [sizeof和strlen的区别在于，strlen只计算字符串的语义长度，不包括空白符；sizeof计算该字符串的数组大小]
*strlen代码*
#include <stdio.h>
#include <string.h>
#define Praise "you are a good man"
int main(void)
{
    char name[15];
    scanf("%s",name);
    printf("%s,%s",name,Praise);
    printf("your name has %zd chars and take %zd bytes",strlen(name),sizeof(name));
}
.
----------------------------------------------------------------------
## 字符串过长
> 有三种方法使得单行的字符串缩短
1. 使用多个printf
2. 使用\ + 回车
3. 将字符串拆为多个小字符串
- 2和3都需要注意`空格和缩进带来的影响`


# 类型转换
## 隐式类型转换
> C语言是弱类型，因此其存在大量的隐式类型转换
- 其中，[类型自动向更大范围类型转换被称为升级，同理，被称为降级]
*类型转换示例*
#include <stdio.h>
int main(void)
{
    char i = 'A';
    int c =3 ;
    float num = i + c;
    printf("%f",num);
}
- 例如在这个代码中，一个char 和 一个 int相加，由于num应该是float，因此i和c都被转换成float。
## 强制类型转换
> 强制类型转换符
*强制类型转换符代码*
#include <stdio.h>
int main(void)
{
    int mice = 1.6+1.7;
    int nice = (int)1.6+(int)1.7;
    printf("%d,%d",mice,nice);
}
- 由于nice的1.6和1.7被显示转换为了int类型，因此nice =2；
